<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Layered-SQT: ls::Rrss Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<!--Load MathJax manually...-->
<script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML">
MathJax.Hub.Config({
  displayAlign: "left",
  displayIndent: "2em",
  TeX: {
    Macros: {
        real: ["\\operatorname{Re}"],
        imag: ["\\operatorname{Im}"],
        dual: ["\\operatorname{Du}"],
        symm: ["\\operatorname{Symm}"],
        skew: ["\\operatorname{Skew}"],
        erf: ["\\operatorname{erf}"],
        erfc: ["\\operatorname{erfc}"],
        parens: ["{\\left({#1}\\right)}", 1],
        bracks: ["{\\left\\lbrack{#1}\\right\\rbrack}", 1],
        braces: ["{\\left\\lbrace{#1}\\right\\rbrace}", 1],
        verts: ["{\\left\\lvert{#1}\\right\\rvert}", 1],
        Verts: ["{\\left\\Vert{#1}\\right\\Vert}", 1]
    }
  }
});
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="DoxygenStyle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Layered-SQT
   </div>
   <div id="projectbrief">Layered assembly to SQT-format BSDF</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacels.html">ls</a></li><li class="navelem"><a class="el" href="classls_1_1Rrss.html">Rrss</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classls_1_1Rrss-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ls::Rrss Class Reference<div class="ingroups"><a class="el" href="group__rrss.html">Redundancy-reduced sample set</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Redundancy-reduced sample set.  
 <a href="classls_1_1Rrss.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classls_1_1Rrss_1_1Sample.html">Sample</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sample.  <a href="classls_1_1Rrss_1_1Sample.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0ecc7ae7a8b0ec1010c1dcff7e051d02"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classls_1_1Rrss.html#a0ecc7ae7a8b0ec1010c1dcff7e051d02">Rrss</a> (const std::vector&lt; <a class="el" href="classls_1_1Rrss_1_1Sample.html">Sample</a> &gt; &amp;<a class="el" href="classls_1_1Rrss.html#aed3ad185aa4fc2dd2aacceb97acd31fe">samples</a>)</td></tr>
<tr class="memdesc:a0ecc7ae7a8b0ec1010c1dcff7e051d02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a0ecc7ae7a8b0ec1010c1dcff7e051d02">More...</a><br /></td></tr>
<tr class="separator:a0ecc7ae7a8b0ec1010c1dcff7e051d02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb28ccba60c25ba930405a92ad6ad5e9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classls_1_1Rrss.html#abb28ccba60c25ba930405a92ad6ad5e9">Rrss</a> (const <a class="el" href="classls_1_1Rrss.html">Rrss</a> &amp;)=delete</td></tr>
<tr class="memdesc:abb28ccba60c25ba930405a92ad6ad5e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Non-copyable.  <a href="#abb28ccba60c25ba930405a92ad6ad5e9">More...</a><br /></td></tr>
<tr class="separator:abb28ccba60c25ba930405a92ad6ad5e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed3ad185aa4fc2dd2aacceb97acd31fe"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; <a class="el" href="classls_1_1Rrss_1_1Sample.html">Sample</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classls_1_1Rrss.html#aed3ad185aa4fc2dd2aacceb97acd31fe">samples</a> () const</td></tr>
<tr class="memdesc:aed3ad185aa4fc2dd2aacceb97acd31fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Samples.  <a href="#aed3ad185aa4fc2dd2aacceb97acd31fe">More...</a><br /></td></tr>
<tr class="separator:aed3ad185aa4fc2dd2aacceb97acd31fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3b9a5075d2450791183cee6c4a16a8a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classls_1_1Rrss.html#ae3b9a5075d2450791183cee6c4a16a8a">disable</a> (std::size_t num)</td></tr>
<tr class="memdesc:ae3b9a5075d2450791183cee6c4a16a8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable <code>num</code> redundant samples.  <a href="#ae3b9a5075d2450791183cee6c4a16a8a">More...</a><br /></td></tr>
<tr class="separator:ae3b9a5075d2450791183cee6c4a16a8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5509fc214a7ce197c2238fe9eb99cd7a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classls_1_1Rrss.html#a5509fc214a7ce197c2238fe9eb99cd7a">disableUntil</a> (std::size_t num)</td></tr>
<tr class="memdesc:a5509fc214a7ce197c2238fe9eb99cd7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable redundant samples until <code>num</code> remain.  <a href="#a5509fc214a7ce197c2238fe9eb99cd7a">More...</a><br /></td></tr>
<tr class="separator:a5509fc214a7ce197c2238fe9eb99cd7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a75679b6ba08f24e101f3a807bf0e3a01"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classls_1_1Rrss_1_1Sample.html">Sample</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classls_1_1Rrss.html#a75679b6ba08f24e101f3a807bf0e3a01">samples_</a></td></tr>
<tr class="memdesc:a75679b6ba08f24e101f3a807bf0e3a01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Samples.  <a href="#a75679b6ba08f24e101f3a807bf0e3a01">More...</a><br /></td></tr>
<tr class="separator:a75679b6ba08f24e101f3a807bf0e3a01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ff87b17cfb6f38a72e025dbc8294a6a"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classls_1_1Rrss.html#a6ff87b17cfb6f38a72e025dbc8294a6a">samples_remaining_</a> = 0</td></tr>
<tr class="memdesc:a6ff87b17cfb6f38a72e025dbc8294a6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Samples remaining (i.e., still enabled).  <a href="#a6ff87b17cfb6f38a72e025dbc8294a6a">More...</a><br /></td></tr>
<tr class="separator:a6ff87b17cfb6f38a72e025dbc8294a6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb31f616c7b532cc2adc46647c818897"><td class="memItemLeft" align="right" valign="top">pr::kdtree&lt; <a class="el" href="group__common.html#gaabc8fbca11487237a93cd52161db5b6d">Float</a>, 3, const <a class="el" href="classls_1_1Rrss_1_1Sample.html">Sample</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classls_1_1Rrss.html#adb31f616c7b532cc2adc46647c818897">sample_tree_</a></td></tr>
<tr class="memdesc:adb31f616c7b532cc2adc46647c818897"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sample tree.  <a href="#adb31f616c7b532cc2adc46647c818897">More...</a><br /></td></tr>
<tr class="separator:adb31f616c7b532cc2adc46647c818897"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Redundancy-reduced sample set. </p>
<p>This encapsulates an algorithm for building a <em>redundancy-reduced sample set</em> which, as the name suggests, is a set of sample directions fit to a target solid-angle distribution with minimal redundancy&mdash;that is, minimal unwarranted (and undesirable) clumping of sample directions.</p>
<dl class="section user"><dt>Algorithm</dt><dd></dd></dl>
<p>Let \( \Omega = \{\omega_k\} \), where \( k = 1,2,\ldots,N \), be a set of \( N \) random sample directions. We would like to select \( N&#39; &lt; N \) of these sample directions to form a subset \( \Omega&#39; \subset \Omega \) which fits a solid-angle density \( p \) with minimal &ldquo;redundancy&rdquo;. In other words, we intend to discard directions from \( \Omega \) such that the inherent density of the remaining directions better represents \( p \), a target density.</p>
<p>We thus require a quantifiable measure of &ldquo;redundancy&rdquo; so that we can identify the most appropriate sample directions to discard. We define such a measure by inspecting a region \( \mathcal{R}_k \) around each \( \omega_k \). For each \( \omega_k \), let \( m_k \) be the number of directions we actually find in \( \mathcal{R}_k \), and let \( \bar{m}_k \) be the number of directions we would expect to find in \( \mathcal{R}_k \) if \( \Omega \) were ideally representative of \( p \), </p><p class="formulaDsp">
\[ m_k = \sum_{k=1}^N \begin{cases} 1 &amp; \omega_k \in \mathcal{R}_k \\ 0 &amp; \omega_k \notin \mathcal{R}_k \end{cases} \]
</p>
 <p class="formulaDsp">
\[ \bar{m}_k = N \operatorname{Pr}(\mathcal{R}_k) = N \int_{\mathcal{R}_k} p(\omega)\;\mathrm{d}\omega. \]
</p>
<p> We define the redundancy \( \rho_k \) for each \( \omega_k \) as </p><p class="formulaDsp">
\[ \rho_k = \frac{m_k}{\bar{m}_k}. \]
</p>
<p> When \( \rho_k \approx 1 \), we see about as many directions around \( \omega_k \) as we expect, and so \( \omega_k \) is properly representative. When \( \rho_k \gg 1 \), we see many more directions around \( \omega_k \) than we expect, and so \( \omega_k \) is redundant. Of course, we must still consider how to form the \( \mathcal{R}_k \) and how to estimate the \( \bar{m}_k \). Before continuing however, it is important to discuss how we might apply this measure to discard directions. To discard only the most redundant direction, we can simply select and discard the direction with the greatest \( \rho_k \). However, to discard \( \ell &gt; 1 \) directions, we cannot simply select and discard the top- \( \ell \) directions with greatest \( \rho_k \), as the act of discarding a direction implicitly changes the \( \rho_k \) of the remaining directions. We must instead discard the most redundant direction \( \ell \) times, updating the \( \rho_k \) in between. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a0ecc7ae7a8b0ec1010c1dcff7e051d02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ecc7ae7a8b0ec1010c1dcff7e051d02">&#9670;&nbsp;</a></span>Rrss() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ls::Rrss::Rrss </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classls_1_1Rrss_1_1Sample.html">Sample</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>samples</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>

</div>
</div>
<a id="abb28ccba60c25ba930405a92ad6ad5e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb28ccba60c25ba930405a92ad6ad5e9">&#9670;&nbsp;</a></span>Rrss() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ls::Rrss::Rrss </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classls_1_1Rrss.html">Rrss</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Non-copyable. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aed3ad185aa4fc2dd2aacceb97acd31fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed3ad185aa4fc2dd2aacceb97acd31fe">&#9670;&nbsp;</a></span>samples()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;<a class="el" href="classls_1_1Rrss_1_1Sample.html">Sample</a>&gt;&amp; ls::Rrss::samples </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Samples. </p>

</div>
</div>
<a id="ae3b9a5075d2450791183cee6c4a16a8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3b9a5075d2450791183cee6c4a16a8a">&#9670;&nbsp;</a></span>disable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ls::Rrss::disable </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disable <code>num</code> redundant samples. </p>

</div>
</div>
<a id="a5509fc214a7ce197c2238fe9eb99cd7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5509fc214a7ce197c2238fe9eb99cd7a">&#9670;&nbsp;</a></span>disableUntil()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ls::Rrss::disableUntil </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Disable redundant samples until <code>num</code> remain. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a75679b6ba08f24e101f3a807bf0e3a01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75679b6ba08f24e101f3a807bf0e3a01">&#9670;&nbsp;</a></span>samples_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classls_1_1Rrss_1_1Sample.html">Sample</a>&gt; ls::Rrss::samples_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Samples. </p>

</div>
</div>
<a id="a6ff87b17cfb6f38a72e025dbc8294a6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ff87b17cfb6f38a72e025dbc8294a6a">&#9670;&nbsp;</a></span>samples_remaining_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t ls::Rrss::samples_remaining_ = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Samples remaining (i.e., still enabled). </p>

</div>
</div>
<a id="adb31f616c7b532cc2adc46647c818897"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb31f616c7b532cc2adc46647c818897">&#9670;&nbsp;</a></span>sample_tree_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pr::kdtree&lt;<a class="el" href="group__common.html#gaabc8fbca11487237a93cd52161db5b6d">Float</a>, 3, const <a class="el" href="classls_1_1Rrss_1_1Sample.html">Sample</a>*&gt; ls::Rrss::sample_tree_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sample tree. </p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
